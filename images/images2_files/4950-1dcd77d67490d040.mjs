"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4950,18755],{50165:(e,t,n)=>{n.d(t,{$:()=>c,r:()=>p});var a=n(667294),i=n(498490),r=n(636565),l=n(297728),s=n(730212),o=n(961754),u=n(785893);let{Provider:d,useHook:c}=(0,i.Z)("PinRep");function p({children:e}){let{isAuthenticated:t}=(0,s.B)(),{checkExperiment:n}=(0,l.F)(),{experience:i}=(0,r.Ow)(1000069),[c,p]=(0,a.useState)(!0),[m,f]=(0,a.useState)(!1),[_,w]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[v,I]=(0,a.useState)(null),E=(0,r.oS)(1000069),{anyEnabled:R}=n("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),P=(0,o.Z)(t&&R?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,a.useEffect)(()=>{if(!t){p(!1);return}i&&(!i||i?.experience_id===500417&&i?.display_data.hide_footer)?E.viewExperience(1000069,500417):p(!1),f(!0)},[i]);let y=(0,a.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:_,hasSimplifiedPinGridExpLoaded:m,hidePinRepFooter:c,quickSaveBoardId:P,setHasMetSaveRequirementOnUseCaseFeed:w,setUseCaseFeedOriginalPinId:I,setUseCaseFeedRepinId:g,useCaseFeedOriginalPinId:v,useCaseFeedRepinId:h}),[_,m,c,P,w,I,g,v,h]);return(0,u.jsx)(d,{value:y,children:e})}},829196:(e,t,n)=>{n.d(t,{YS:()=>s,eF:()=>o,m_:()=>l});var a=n(431705),i=n(194093),r=n(415787);function l(e,t,n,i,l){let s=new URLSearchParams,o=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(a){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);s.append(a.NR.SOURCE_EVENT_ID,e??"0"),s.append(a.NR.DESTINATION,JSON.stringify([...o])),s.append(a.NR.EXPIRY,n?a.uV:a.ug),s.append(a.NR.PRIORITY,n?a.NR.CLICK_PRIORITY:a.NR.VIEW_PRIORITY),l&&s.append(a.NR.ADVERTISER_ID,l),i&&s.append(a.NR.CAMPAIGN_ID,i),s.append(a.NR.SOURCE_EVENT_TYPE,n?a.bC:a.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(a.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}async function s(e,t,n,a,s,o,u,d,c){let p;let{appType:m,osType:f}=o||{},_="",w="";if(["Pin","pinImpressions"].includes(e)&&t&&(a||d||c)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:f}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:f}});return}_=l(n,[a,d,c],!1,s,u);try{w=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(w&&"www.pinterest.com"!==w)document.createElement("img").setAttribute("attributionsrc",_),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:f,hostname:w}});else if(!(p=await window.fetch(_,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:f}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,i.Z)(e,"name"),message:(0,i.Z)(e,"message"),appType:m,osType:f,hostname:w,responseStatus:p&&p.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:f}})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},118755:(e,t,n)=>{n.d(t,{G6:()=>r,i7:()=>l,oi:()=>a,u$:()=>i,un:()=>o,vU:()=>s,w1:()=>u});let a=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?a.CHROME:e.includes("Safari")?a.SAFARI:e.includes("Firefox")?a.FIREFOX:e.includes("Opera")?a.OPERA:e.includes("IE")?a.IE:e.includes("Edge")?a.EDGE:a.OTHER:a.OTHER;function r(e){return i(e)===a.SAFARI}function l(e){return i(e)===a.CHROME}function s(e){return i(e)===a.FIREFOX}function o(e){return i(e)===a.EDGE}function u(e){return i(e)===a.IE}},293321:(e,t,n)=>{n.d(t,{kf:()=>w,l5:()=>f,of:()=>p,xC:()=>_,yz:()=>m});var a=n(667294),i=n(498490),r=n(915571),l=n(969119),s=n(346645),o=n(415787),u=n(785893);let{Provider:d,useMaybeHook:c}=(0,i.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,i]=(0,a.useState)(null),s=t||{pwaType:"unknown",twaType:null},c=s.pwaType;(0,l.Z)(()=>{let e=(0,r.FB)(window)||"unknown";i(e),c!==e&&(0,o.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&n?n:c,{twaType:m}=s,f=(0,a.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,u.jsx)(d,{value:f,children:e})},m=()=>{let e=c();return e?.pwaType??"unknown"},f=()=>{let e=c();return e?.twaType??null},_=()=>"android-twa"===m(),w=()=>{let e=m(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},529264:(e,t,n)=>{n.d(t,{H5:()=>h,WS:()=>v,Xn:()=>_,an:()=>w,lk:()=>I});var a=n(282999),i=n(812477),r=n(868808);let l="BING",s="GOOGLE",o="YAHOO",u="YANDEX",d="RAKUTEN",c="NAVER",p="AMP_CACHE",m="DUCKDUCKGO",f=[s,l,o,u,d,c,p,m];function _(e){return f.includes(function(e){let{hostname:t}=(0,r.Qc)(e,!0);if(t&&e){if(t.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return s;if(t.includes("bing."))return l;if(t.includes("yahoo."))return o;if(t.includes("yandex."))return u;else if(t.includes("rakuten."))return d;else if(t.includes("naver."))return c;else if(t.includes("duckduckgo."))return m;else if(t.includes(".cdn.ampproject.org"))return p}return""}(e))}function w(e){return e||"undefined"!=typeof document&&document.referrer||""}let h=e=>{let t=new URL(e);return t.searchParams.set("nii","t"),t.href},g=e=>"/"!==e[e.length-1]?`${e}/`:e,v=e=>{let t=g(e),n=(0,a.ll)({pathname:t});return(0,a.L6)(n)?"PIN":(0,a.am)(n)?"BOARD":(0,i.Z)(n)?"PROFILE":(0,a.bo)(n)?"TODAY":(0,a.z_)(n)?"IDEA":(0,a.R$)(n)?"SHOPPING":"UNKNOWN"},I=({selector:e,skipExternal:t})=>{let n=Array.from(document.querySelectorAll(e)),a={pin:[],board:[],user:[],today:[],idea:[],shopping:[]},i=new Set;return n.forEach(e=>{let n=e.getAttribute("href");if(!n||n.startsWith("#")||t&&n.startsWith("http")&&!n.includes(window.location.hostname))return;let r=g(n);if(i.has(r))return;i.add(r);let l=v(r);"PIN"===l?a.pin.push(r):"BOARD"===l?a.board.push(r):"PROFILE"===l?a.user.push(r):"TODAY"===l?a.today.push(r):"IDEA"===l?a.idea.push(r):"SHOPPING"===l&&a.shopping.push(r)}),a}},623722:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(414416),i=n(503237);let r=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,i.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,a.Z)(e[1]).pinId||void 0}}},644797:(e,t,n)=>{n.d(t,{W:()=>d,r:()=>u});var a=n(667294),i=n(573706),r=n(498490),l=n(297728),s=n(785893);let{Provider:o,useHook:u}=(0,r.Z)("VideoPlayer");function d({children:e}){let{logContextEvent:t,logImpression:n}=(0,i.v)(),{checkExperiment:r}=(0,l.F)(),[u,d]=(0,a.useState)(!1),[c,p]=(0,a.useState)([]),[m,f]=(0,a.useState)([]),[_,w]=(0,a.useState)({}),h=r("web_ads_mrc_video_impression").anyEnabled,g=e=>{w(t=>({...t,[e]:!0}))},v=(0,a.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");h&&(t||n)&&p(t=>[...t,e].slice(-1e3))}},[h]),I=(0,a.useCallback)(e=>{18===e.eventType&&h&&f(t=>[...t,e].slice(-1e3))},[h]),E=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},R=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,a.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!_[n]||!h||(t(E(e)),!1)});e.length!==c.length&&p(e)},[c,h,t,_]),(0,a.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&h){let t=R(e);return t&&n(t),!1}return!0});e.length!==m.length&&f(e)},[m,h,n,_]);let P=(0,a.useMemo)(()=>({captionsEnabled:u,logMrcVideoAdImpressionOnPlay:I,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:d,setVideoPlayed:g,videosPlayed:_}),[u,v,I,_]);return(0,s.jsx)(o,{value:P,children:e})}},563646:(e,t,n)=>{n.d(t,{w:()=>o,z:()=>s});var a=n(667294),i=n(498490),r=n(785893);let{Provider:l,useMaybeHook:s}=(0,i.Z)("CloseupPreviewContext");function o({children:e}){let[t,n]=(0,a.useState)(Object.freeze({})),i=(0,a.useMemo)(()=>({setData:(e,t)=>n(n=>({...n,[e]:t})),getData:e=>t[e]}),[t]);return(0,r.jsx)(l,{value:i,children:e})}},193836:(e,t,n)=>{n.d(t,{_l:()=>v,cO:()=>g,t2:()=>I,w2:()=>E,xM:()=>h});var a=n(667294),i=n(616550),r=n(252071),l=n(282999),s=n(868808),o=n(410150),u=n(383399),d=n(785893);let c="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",f=(0,a.createContext)(),_=({children:e})=>{let[t,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(!1),l=(0,a.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:i,setHasSeenAuthDesktopLandingToast:r}),[t,n,i,r]);return(0,d.jsx)(f.Provider,{value:l,children:e})},w=(0,a.createContext)({key:"",data:null}),h=({children:e})=>{let t=(0,i.TH)(),n=(0,u.Z)(),f=n&&n.isAuth,h=(0,o.HG)(),g=(0,a.useRef)((0,l.fY)(t)&&(0,s.mB)(t.search).invite_code||null),v=(0,i.LX)(t.pathname,{path:"/pin/:id"}),I=String(v&&"id"in v.params&&v.params.id)||"",[E,R]=(0,a.useState)({key:"",data:null});return(0,a.useEffect)(()=>{(async function(){let e=g.current;if(e)try{let t=r.Z.create("InviteCodeMetadataResource",{invite_code:e}),a=(await t.callGet()).resource_response.data;if(a){let e=a.sender??null,t=f&&e.id!==n.id&&e?.should_show_messaging&&n.should_show_messaging;!f&&h?R({key:c,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(a.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!h?R({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:I}}}}):t&&h&&R({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:I}}}})}else R({key:"",data:null})}catch{R({key:"",data:null})}})()},[f,h,n,I]),(0,d.jsx)(_,{children:(0,d.jsx)(w.Provider,{value:E,children:e})})},g=()=>{let e=(0,a.useContext)(w);return e.key===c?e:null},v=()=>{let e=(0,a.useContext)(w);return e.key===m?e:null},I=()=>{let e=(0,a.useContext)(w);return e.key===p?e:null},E=()=>(0,a.useContext)(f)},109272:(e,t,n)=>{n.d(t,{M:()=>D,R:()=>S});var a=n(667294),i=n(609326),r=n(498490),l=n(993754),s=n(864723),o=n(969119),u=n(640498),d=n(842909);let c=()=>(0,s.M0)().getItem(i.Vb)||[],p=({pinId:e,link:t,imageSignature:n,domain:a})=>{let r=[...c()],l=r.length,o=l?r[0].pinId:"";if(!l||e!==o){let r=(0,d.Z)({pinId:e,link:t,imageSignature:n,domain:a});(0,s.M0)().prependItem(i.Vb,r,u.LG)}},m=()=>(0,s.M0)().getItem(i.ny)||[],f=({query:e,rs:t,scope:n,rg:a})=>{let r=[...m()],l=r.length,o=l?r[0].query:"";if(!l||e!==o){let r=(0,d.Z)({query:e,rs:t,scope:n,rg:a});(0,s.M0)().prependItem(i.ny,r,u.LG)}},_=({query:e})=>{let t=[...m()].filter(t=>t.query!==e);(0,s.M0)().setItem(i.ny,t)};var w=n(445330),h=n(927371),g=n(592305),v=n(785893);let I=(e,t)=>{Object.keys(e).forEach(n=>{"function"!=typeof e[n]&&void 0!==e[n]&&(t[n]=e[n])})},E=()=>(0,s.M0)().getItem(i.s1)??[],R=()=>parseInt((0,s.M0)().getItem(i.rN)||0,10),P=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:a,downloadedPinsCount:i}=e;e.isQUS=Number(t.length>=1||n.length>=3||a.length>=1||i>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{ts:n}=t,a=new Date,i=new Date(n||a);return Math.max(Math.floor(Number(((a.getTime()-i.getTime())/864e5).toFixed(2))),0)},getSnapshot:function(){let t={};return I(e,t),t}}),y=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n,regionFromIp:a})=>{let i=(0,l.Z)({countryFromHostName:n||"",countryFromIp:t||"",regionFromIp:a||"",isAuthenticated:!!e}),r={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",regionFromIp:a||"",visitedUnauthPages:[],closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],isQUS:0,revisitationState:(0,w.K7)(),daysSinceLastRevisitation:0,isStorageAllowed:Number(i)};if(e||!r.isStorageAllowed)return Object.freeze({...P(r),...r});r.visitedUnauthPages=(0,g.ZP)(),r.closeupPins=(0,h.Z)(),r.completedSearches=m(),r.clickthroughPins=c(),r.downloadedPinsCount=R(),r.savedPins=E(),r.revisitationState=(0,w.iU)();let s=P(r);return r.daysSinceLastRevisitation=s._getDaysSinceLastRevisitation(),s._updateUnauthUserAggregateDefinitions(),Object.freeze({...s,...r})},{Provider:A,useHook:S}=(0,r.Z)("UnauthUserStateContext");function b(e,t){let{isAuthenticated:n,countryFromIp:a,countryFromHostName:i,isStorageAllowed:r,regionFromIp:l}=e;if(n||!r)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":f(t.payload);break;case"REMOVE_UNAUTH_COMPLETED_SEARCH":_(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":p(t.payload);break;default:return e}return y({isAuthenticated:n,countryFromIp:a,countryFromHostName:i,regionFromIp:l})}function D({children:e,initialState:t}){let[n,i]=(0,a.useReducer)(b,t,y);(0,o.Z)(()=>{i({type:"UPDATE"})});let r=(0,a.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:i}),[n,i]);return(0,v.jsx)(A,{value:r,children:e})}},842909:(e,t,n)=>{n.d(t,{Z:()=>a});let a=function(e){return{...e,ts:Date.now()}}},445330:(e,t,n)=>{n.d(t,{K7:()=>l,Vd:()=>o,iU:()=>s});var a=n(609326),i=n(864723),r=n(842909);let l=()=>({count:1,time:0,ts:Date.now()}),s=()=>{try{let{count:e,time:t,ts:n}=(0,i.M0)().getItem(a.SI)??{};if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return{count:e,time:t,ts:n};throw Error("Invalid revisitation data")}catch(e){return l()}},o=e=>{(0,i.M0)().setItem(a.SI,(0,r.Z)(e))}},814779:(e,t,n)=>{n.d(t,{E:()=>l,S:()=>s});var a=n(667294),i=n(786525);let r="_loggingInNotHome",l=e=>{e?(0,i.Nh)(r,1):(0,i.L_)(r)},s=()=>{let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(!0)},[]),e&&(0,i.qn)(r)}},897791:(e,t,n)=>{n.d(t,{$:()=>s,Z:()=>d});var a=n(609326),i=n(192820),r=n(864723),l=n(166408);let s=2,o=e=>e?.pins??[],u=e=>e.length?{pins:e}:null,d=()=>{let e=(0,r.M0)(),t=o(e.accessAllowed?e.getItem(a.s1):l.ZP.getItem(i.w3)),n=t=>e.accessAllowed?e.setItem(a.s1,u(t)):l.ZP.setItem(i.w3,u(t)),d=()=>t.length<s;return{pins:t,save:e=>{d()&&n(t.filter(({id:t})=>t!==e.id).concat([e]))},unsave:e=>n(t.filter(({id:t})=>t!==e)),isSaved:e=>t.some(({id:t})=>t===e),clear:()=>n([]),canSaveMore:d}}},578406:(e,t,n)=>{n.d(t,{N4:()=>r,Wh:()=>a,hr:()=>i});let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},927371:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(640498),i=n(623722),r=n(592305);let l=e=>{let t=new Date,n=new Date(new Date().setDate(t.getDate()-a.ZB));return e.filter(e=>"closeup"===e.pageType&&new Date(e.ts)>=n)},s=()=>l((0,r.ZP)()).map(e=>({...e,id:(0,i.Z)(e.path)||""}))},592305:(e,t,n)=>{n.d(t,{Z4:()=>u,ZP:()=>d,t_:()=>s});var a=n(609326),i=n(640498),r=n(864723),l=n(842909);let s=()=>{let e=(0,r.M0)().getItem(a.pm);return null!==e?JSON.stringify(e):""},o=()=>(0,r.M0)().getItem(a.pm)??[],u=(e,t)=>{let n=[...o()],s=n.length,u=s?n[0].path:"";if(!s||e!==u){let n=(0,l.Z)({path:e,pageType:t});(0,r.M0)().prependItem(a.pm,n,i.LG)}},d=o}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4950-1dcd77d67490d040.mjs.map